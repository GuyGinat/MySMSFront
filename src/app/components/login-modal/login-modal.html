<div class="modal-overlay" *ngIf="isVisible">
  <div class="modal-content">
    <div class="modal-header">
      <h3>{{ isLoginMode ? 'Login' : 'Register' }}</h3>
      <button class="close-btn" (click)="closeModal()">&times;</button>
    </div>
    
    <div class="modal-body">
      <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
        <div class="form-group">
          <label for="email">Email</label>
          <input 
            type="email" 
            id="email" 
            name="email"
            [(ngModel)]="email"
            class="form-control"
            placeholder="Enter your email"
            required>
        </div>
        
        <div class="form-group">
          <label for="password">Password</label>
          <input 
            type="password" 
            id="password" 
            name="password"
            [(ngModel)]="password"
            class="form-control"
            placeholder="Enter your password"
            required>
        </div>
        
        <div class="form-group" *ngIf="!isLoginMode">
          <label for="confirmPassword">Confirm Password</label>
          <input 
            type="password" 
            id="confirmPassword" 
            name="confirmPassword"
            [(ngModel)]="confirmPassword"
            class="form-control"
            placeholder="Confirm your password"
            required>
        </div>
        
        <div class="error-message" *ngIf="errorMessage">
          {{ errorMessage }}
        </div>
        
        <div class="form-actions">
          <button 
            type="submit" 
            class="btn btn-primary"
            [disabled]="!loginForm.valid || isLoading">
            {{ isLoading ? 'Loading...' : (isLoginMode ? 'Login' : 'Register') }}
          </button>
        </div>
      </form>
      
      <div class="toggle-mode">
        <p>
          {{ isLoginMode ? "Don't have an account?" : "Already have an account?" }}
          <a href="#" (click)="toggleMode()">
            {{ isLoginMode ? 'Register' : 'Login' }}
          </a>
        </p>
      </div>
    </div>
  </div>
</div>
